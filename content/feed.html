---
title: "Activity Feed"
type: "nofmt"
menu: "main"
weight: 400
keywords: "activity feed"
---

<script type="module">
    import { Octokit } from "https://cdn.skypack.dev/@octokit/core";
    const octokit = new Octokit();

    // Fetch recent activity from GitHub
    window.pullFeed = async function pullFeed(){
        await octokit.request('GET /users/{username}/events/public', {
            username: 'Angus-C-git',
            page: 1,
            per_page: 30
        }).then(response => {

            let nonSelected = document.getElementById('twitter');
            nonSelected.classList.remove('feed-selected');
            nonSelected.classList.add('feed-non-selected');

            let selected = document.getElementById('github');
            selected.classList.remove('feed-non-selected');
            selected.classList.add('feed-selected');

            let feed = document.getElementById("feed");
            feed.innerHTML = '';
            document.getElementById('loader').innerHTML = " ";
            response.data.map(event => {
                if (event.type === "PushEvent")
                    feed.innerHTML += `{{< activity
                        date="${event.created_at.slice(0, 10).concat(` `).concat(event.created_at.slice(11, 16))}"
                        title="${event.repo.name}"
                        desc="${event.payload.commits[0].message}"
                    >}}`
            });
        });
    }; pullFeed();
</script>

<hr />
<h1>
    <i id="github" class="fab fa-github-square feed-selected" onclick="pullFeed()"></i>
    <i id="twitter" class="fab fa-twitter-square feed-non-selected" onclick="twitterFeed()"></i>
</h1>

<ul id="feed" class="activity-timeline"></ul>

<span id="loader"><i class="fas fa-spinner"></i> Loading ...</span>


